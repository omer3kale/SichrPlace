<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>SichrPlace - Verified Student Apartments in Germany | Safe Apartment Search Platform</title>
  <link rel="stylesheet" href="css/logo-system.css">
  <script src="js/language-switcher.js" defer></script>
  <script src="js/logo-cookie-manager.js" defer></script>
  <meta name="description" content="Find safe, verified apartments for students and young professionals in Germany. Secure messaging, trusted landlords, and exclusive offers for AIESEC and university students.">
  <meta name="keywords" content="student apartments Germany, verified apartments, rent apartment Germany, student housing Berlin, landlord listing Germany, AIESEC housing, safe rental Germany, WG, student flat, young professionals, university housing">
  <link rel="canonical" href="https://sichrplace.com/">
  <meta property="og:title" content="SichrPlace - Verified Student Apartments in Germany">
  <meta property="og:description" content="Secure, transparent, and easy apartment search for students and professionals in Germany. Verified listings, secure messaging, and digital contracts.">

  <meta property="og:url" content="https://sichrplace.com/">
  <meta property="og:type" content="website">
  <meta name="robots" content="index, follow">
  
  <!-- Favicon and Icons -->
  <link rel="icon" href="img/favicon.ico" sizes="any">
  <link rel="icon" href="img/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="img/apple-touch-icon.png">
  <link rel="icon" href="img/favicon-96x96.png" sizes="96x96" type="image/png">
  <link rel="icon" href="img/web-app-manifest-192x192.png" sizes="192x192" type="image/png">
  <link rel="icon" href="img/web-app-manifest-512x512.png" sizes="512x512" type="image/png">
  

  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2563EB">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="SichrPlace">
  <link rel="apple-touch-icon" href="img/pwa-icon-192.png">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@300;400;500&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  
  <!-- PWA Styles -->
  <link rel="stylesheet" href="css/pwa-styles.css">
  
  <!-- PayPal SDK - Will be configured via environment variables -->
  <!-- <script src="https://www.paypal.com/sdk/js?client-id=PAYPAL_CLIENT_ID&currency=EUR&locale=de_DE&components=buttons&enable-funding=venmo,paylater"></script> -->
  
  <style>
    :root {
      --primary: #2563EB;
      --secondary: #F9FAFB;
      --accent: #40E0D0;
      --text: #222;
      --muted: #6b7280;
      --card: #fff;
      --radius: 18px;
      --shadow: 0 2px 12px rgba(0,0,0,0.06);
      --heading-font: "Poppins", sans-serif;
      --body-font: "Roboto", sans-serif;
    }
    body {
      margin: 0;
      font-family: var(--body-font);
      background: var(--secondary);
      color: var(--text);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    main {
      flex: 1 0 auto;
    }
    header {
      background: var(--card);
      box-shadow: var(--shadow);
      padding: 0 40px;
      height: 80px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .header-logo {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .brand-text {
      display: flex;
      flex-direction: column;
    }
    .sichrplace-text {
      font-family: var(--heading-font);
      font-weight: 700;
      font-size: 1.4rem;
      color: var(--primary);
      line-height: 1;
    }
    .certified-badge {
      font-size: 0.8rem;
      color: var(--accent);
      font-weight: 600;
      margin-top: 2px;
    }
    .logo img {
      height: 40px;
      width: auto;
      filter: drop-shadow(0 1px 3px rgba(0,0,0,0.1));
    }
    .logo {
  display: flex;
  align-items: center;
  gap: 10px;
  font-family: var(--heading-font);
  font-weight: 600;
  font-size: 1.5rem;
  color: var(--primary);
  text-decoration: none;
  /* remove visual frame around logo */
  background: transparent;
  padding: 0;
  border-radius: 0;
  border: none;
  box-shadow: none;
    }
    nav {
      display: flex;
      gap: 24px;
      align-items: center;
      position: relative;
    }
    nav a {
      color: var(--primary);
      text-decoration: none;
      font-weight: 600;
      font-family: var(--heading-font);
      font-size: 1rem;
      transition: color 0.2s;
    }
    nav a:hover {
      color: var(--accent);
    }
    .cart-icon {
      display: flex !important;
      align-items: center;
      justify-content: center;
      padding: 8px;
      border-radius: 50%;
      background: var(--primary-lighter);
      transition: all 0.3s ease;
      position: relative;
    }
    .cart-icon:hover {
      background: var(--primary) !important;
      color: white !important;
      transform: translateY(-2px);
    }
    .cart-icon i {
      font-size: 1.1rem;
    }
    
    /* Language Switcher Styles */
    .language-switcher {
      position: relative;
      display: inline-block;
    }
    
    .language-btn {
      display: flex;
      align-items: center;
      gap: 6px;
      background: var(--primary);
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-family: var(--heading-font);
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.2s ease;
      outline: none;
    }
    
    .language-btn:hover {
      background: var(--primary-dark);
      transform: translateY(-1px);
    }
    
    .language-btn i:last-child {
      font-size: 0.7rem;
      transition: transform 0.2s ease;
    }
    
    .language-btn.active i:last-child {
      transform: rotate(180deg);
    }
    
    .language-dropdown {
      display: none;
      position: absolute;
      top: 100%;
      right: 0;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      min-width: 140px;
      z-index: 1000;
      overflow: hidden;
      margin-top: 8px;
      border: 1px solid var(--border);
    }
    
    .language-dropdown.active {
      display: block;
      animation: fadeInDown 0.2s ease-out;
    }
    
    .language-dropdown.show {
      display: block;
      animation: fadeInDown 0.2s ease-out;
    }
    
    .lang-option {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 12px;
      color: var(--text);
      text-decoration: none;
      font-family: var(--body-font);
      font-weight: 500;
      font-size: 0.9rem;
      transition: background 0.2s ease;
      border-bottom: 1px solid #f1f1f1;
    }
    
    .lang-option:last-child {
      border-bottom: none;
    }
    
    .lang-option:hover {
      background: var(--secondary);
    }
    
    .lang-option.active {
      background: var(--primary);
      color: white;
    }
    
    .flag-emoji {
      font-size: 16px;
      line-height: 1;
    }
    
    @keyframes fadeInDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, var(--primary) 0%, #1e40af 25%, var(--accent) 75%, #06b6d4 100%);
      color: #fff;
      padding: 100px 20px 80px 20px;
      text-align: center;
      position: relative;
      overflow: hidden;
      animation: heroGradient 8s ease-in-out infinite alternate;
    }
    
    @keyframes heroGradient {
      0% {
        background: linear-gradient(135deg, var(--primary) 0%, #1e40af 25%, var(--accent) 75%, #06b6d4 100%);
      }
      50% {
        background: linear-gradient(135deg, #1e40af 0%, var(--primary) 25%, #06b6d4 75%, var(--accent) 100%);
      }
      100% {
        background: linear-gradient(135deg, var(--accent) 0%, #06b6d4 25%, var(--primary) 75%, #1e40af 100%);
      }
    }
    
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: radial-gradient(circle at 30% 20%, rgba(255,255,255,0.1) 0%, transparent 50%),
                  radial-gradient(circle at 70% 80%, rgba(255,255,255,0.08) 0%, transparent 50%);
      animation: heroOverlay 6s ease-in-out infinite alternate;
    }
    
    @keyframes heroOverlay {
      0% { opacity: 0.8; }
      100% { opacity: 1; }
    }
    .hero-content {
      max-width: 700px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
      animation: heroFloat 3s ease-in-out infinite alternate;
    }
    
    @keyframes heroFloat {
      0% { transform: translateY(0px); }
      100% { transform: translateY(-10px); }
    }
    
    .hero-logo {
      text-align: center;
      margin-bottom: 3rem;
    }
    .hero-brand .sichrplace-text {
      font-size: 4rem;
      font-weight: 700;
      margin-left: 1rem;
      color: #fff;
      text-shadow: 
        0 0 10px rgba(255,255,255,0.8),
        0 0 20px rgba(255,255,255,0.6),
        0 0 30px rgba(255,255,255,0.4),
        2px 2px 4px rgba(0,0,0,0.3);
      animation: textPulse 2s ease-in-out infinite alternate;
      position: relative;
    }
    
    @keyframes textPulse {
      0% { 
        transform: scale(1);
        text-shadow: 
          0 0 10px rgba(255,255,255,0.8),
          0 0 20px rgba(255,255,255,0.6),
          0 0 30px rgba(255,255,255,0.4),
          2px 2px 4px rgba(0,0,0,0.3);
      }
      100% { 
        transform: scale(1.05);
        text-shadow: 
          0 0 15px rgba(255,255,255,1),
          0 0 25px rgba(255,255,255,0.8),
          0 0 35px rgba(255,255,255,0.6),
          2px 2px 6px rgba(0,0,0,0.4);
      }
    }
    
    .sichrplace-text.hero-text {
      color: #fff !important;
      font-weight: 700;
      font-size: 4rem;
      text-shadow: 
        0 0 10px rgba(255,255,255,0.8),
        0 0 20px rgba(255,255,255,0.6),
        0 0 30px rgba(255,255,255,0.4),
        2px 2px 4px rgba(0,0,0,0.3);
      animation: textPulse 2s ease-in-out infinite alternate;
    }
    .hero-brand {
      display: inline-flex;
      align-items: center;
      gap: 1rem;
    }
    .hero h1 {
      font-family: var(--heading-font);
      font-size: 3.5rem;
      font-weight: 700;
      margin-bottom: 24px;
      letter-spacing: -1px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      animation: slideInFromTop 1s ease-out;
      position: relative;
      z-index: 3;
    }
    
    @keyframes slideInFromTop {
      0% {
        opacity: 0;
        transform: translateY(-50px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .hero p {
      font-size: 1.4rem;
      margin-bottom: 40px;
      color: #e0e7ff;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
      animation: slideInFromBottom 1s ease-out 0.3s both;
      line-height: 1.6;
      position: relative;
      z-index: 3;
    }
    
    @keyframes slideInFromBottom {
      0% {
        opacity: 0;
        transform: translateY(30px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .search-bar {
      display: flex;
      background: #fff;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: hidden;
      max-width: 480px;
      margin: 0 auto;
      margin-bottom: 24px;
    }
    .search-bar input {
      flex: 1;
      border: none;
      padding: 18px 24px;
      font-size: 1.1rem;
      border-radius: var(--radius);
      outline: none;
    }
    .search-bar button {
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 0 32px;
      font-size: 1.1rem;
      font-family: var(--heading-font);
      font-weight: 600;
      border-radius: var(--radius);
      cursor: pointer;
      transition: background 0.2s;
    }
    .search-bar button:hover {
      background: #2BC4B6;
    }
    .hero-cta {
      margin-top: 18px;
      display: flex;
      justify-content: center;
      gap: 16px;
    }
    .hero-cta a {
      background: #fff;
      color: var(--primary);
      padding: 12px 32px;
      border-radius: var(--radius);
      font-family: var(--heading-font);
      font-weight: 600;
      text-decoration: none;
      box-shadow: var(--shadow);
      transition: background 0.2s, color 0.2s;
    }
    .hero-cta a.primary {
      background: var(--accent);
      color: #fff;
    }
    .hero-cta a:hover {
      background: var(--primary);
      color: #fff;
    }
    /* 5th Stage Feature Styles */
    .matching-section {
      max-width: 950px;
      margin: 60px auto 0 auto;
      background: #fff;
      border-radius: var(--radius);
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
      padding: 32px;
    }
    .matching-section h2 {
      font-family: var(--heading-font);
      color: var(--primary);
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 18px;
      text-align: center;
    }
    .matching-features-list {
      list-style: none;
      padding: 0;
      margin: 0 0 18px 0;
      color: #374151;
      font-size: 1.08rem;
    }
    .matching-features-list li {
      margin-bottom: 14px;
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }
    .matching-features-list i {
      color: var(--primary);
      font-size: 1.2rem;
      margin-top: 2px;
    }
    .matching-section .info {
      background: #f3f4f6;
      border-radius: var(--radius);
      padding: 16px 18px;
      margin-bottom: 10px;
      color: #2563eb;
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .matching-section .info i {
      color: #40E0D0;
      font-size: 1.2rem;
    }
    .matching-section .payment-flow {
      margin-top: 18px;
      background: #f9fafb;
      border-radius: var(--radius);
      padding: 16px 18px;
      color: #222;
      font-size: 1rem;
    }
    /* ...rest of your CSS... */
    .features {
      display: flex;
      flex-wrap: wrap;
      gap: 32px;
      justify-content: center;
      margin: 60px auto 0 auto;
      max-width: 1100px;
    }
    .feature-card {
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 32px 28px;
      flex: 1 1 260px;
      min-width: 260px;
      max-width: 340px;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 16px;
    }
    .feature-card i {
      font-size: 2.5rem;
      color: var(--primary);
      margin-bottom: 8px;
    }
    .feature-card h3 {
      font-family: var(--heading-font);
      font-size: 1.25rem;
      margin: 0;
      color: var(--primary);
    }
    .feature-card p {
      color: var(--muted);
      font-size: 1rem;
      margin: 0;
    }
    /* Slider Section */
    .slider-section {
      max-width: 950px;
      margin: 60px auto 0 auto;
      padding: 0 0 40px 0;
      position: relative;
    }
    .slider-container {
      overflow: hidden;
      position: relative;
      "
      box-shadow: var(--shadow);
      background: var(--card);
    }
    .slides {
      display: flex;
      transition: transform 0.5s cubic-bezier(.4,2,.6,1);
      width: 100%;
    }
    .slide {
      min-width: 100%;
      box-sizing: border-box;
      padding: 36px 32px 32px 32px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .slider-nav {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-top: 18px;
    }
    .slider-dot {
      width: 12px;
      height: 12px;
      "
      background: #d1d5db;
      cursor: pointer;
      transition: background 0.2s;
      border: none;
    }
    .slider-dot.active {
      background: var(--primary);
    }

    /* Top Apartments */
    .top-apartments-list {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 18px;
    }
    .apartment-card {
      background: #f3f4f6;
      "
      padding: 12px;
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 220px;
      box-shadow: 0 1px 4px rgba(0,0,0,0.04);
    }
    .apartment-card img {
      width: 60px;
      height: 60px;
      "
      object-fit: cover;
    }
    .apartment-card .apartment-info {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }
    .apartment-card .wishlist-btn {
      background: none;
      border: none;
      color: #e11d48;
      font-size: 1.3rem;
      cursor: pointer;
      margin-left: 8px;
      transition: color 0.2s;
    }
    .apartment-card .wishlist-btn.active {
      color: #f87171;
    }
    .apartment-card .badge {
      background: var(--primary);
      color: #fff;
      "
      padding: 2px 10px;
      font-size: 0.85rem;
      margin-left: 8px;
    }
    .apartment-card .interview {
      color: #10B981;
      font-size: 0.95rem;
      margin-left: 8px;
    }

    /* User Opinions */
    .user-opinions {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      background: #f9fafb;
      "
      box-shadow: 0 1px 4px rgba(0,0,0,0.04);
      padding: 24px 18px;
      margin-top: 18px;
    }
    .user-opinions h2 {
      font-family: var(--heading-font);
      color: var(--primary);
      margin-bottom: 18px;
      text-align: center;
    }
    #opinion-form textarea {
      width: 100%;
      min-height: 60px;
      "
      border: 1px solid #d1d5db;
      margin-bottom: 10px;
      font-family: var(--body-font);
      resize: vertical;
    }
    #opinion-form button {
      background: var(--primary);
      color: #fff;
      border: none;
      "
      padding: 8px 24px;
      font-family: var(--heading-font);
      font-weight: 600;
      cursor: pointer;
      margin-top: 4px;
    }
    #opinions-list {
      margin-top: 18px;
    }
    .opinion-item {
      background: #f3f4f6;
      "
      padding: 10px;
      margin-bottom: 8px;
    }

   /* Customer Service, FAQ, Viewing Service Section */
    .customer-service-faq-section {
      max-width: 900px;
      margin: 60px auto 0 auto;
    }
    .customer-service-faq-container {
      background: #fff;
      "
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
      padding: 32px;
    }
    .customer-service-faq-flex {
      display: flex;
      flex-wrap: wrap;
      gap: 32px;
    }
    .customer-service-faq-flex > div {
      flex: 1 1 320px;
      min-width: 260px;
    }
    .customer-service-faq-container h2 {
      font-family: 'Poppins',sans-serif;
      color: #2563eb;
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 18px;
    }
    .customer-service-faq-container h3 {
      color: #2563eb;
      font-size: 1.2rem;
      margin-bottom: 10px;
    }
    .customer-service-faq-container ul {
      padding-left: 18px;
      color: #374151;
    }
    .customer-service-faq-container form {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .customer-service-faq-container input,
    .customer-service-faq-container textarea {
      padding: 8px;
      "
      border: 1px solid #d1d5db;
      font-size: 1rem;
      font-family: inherit;
    }
    .customer-service-faq-container button {
      background: #2563eb;
      color: #fff;
      border: none;
      padding: 10px 0;
      "
      font-weight: 600;
      cursor: pointer;
      font-size: 1rem;
    }
    .customer-service-faq-container button:hover {
      background: #1e40af;
    }
    .customer-service-faq-container #customer-service-status {
      margin-top: 8px;
      color: #10B981;
      font-weight: 600;
    }
    /* Footer */
    footer {
      background: var(--primary);
      color: #fff;
      padding: 32px 0 16px 0;
      text-align: center;
      margin-top: 60px;
    }
    .footer-links {
      margin-bottom: 12px;
      display: flex;
      justify-content: center;
      gap: 24px;
      flex-wrap: wrap;
    }
    .footer-links a {
      color: #fff;
      text-decoration: none;
      font-weight: 500;
      font-family: var(--heading-font);
      transition: color 0.2s;
    }
    .footer-links a:hover {
      color: var(--accent);
    }
    .footer-social {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 18px;
    }
    .footer-social a {
      color: #fff;
      font-size: 1.3rem;
      transition: color 0.2s;
    }
    .footer-social a:hover {
      color: var(--accent);
    }
    /* Facebook/Instagram/TikTok CTA styles */
    .social-cta-bar {
      background: #f3f4f6;
      color: #2563eb;
      padding: 18px 0;
      text-align: center;
      font-size: 1.15rem;
      font-family: var(--heading-font);
      margin: 0;
      border-top: 1px solid #e5e7eb;
      border-bottom: 1px solid #e5e7eb;
    }
    .social-cta-bar .social-icons {
      margin-top: 10px;
      display: flex;
      justify-content: center;
      gap: 18px;
    }
    .social-cta-bar .social-icons a {
      color: #2563eb;
      font-size: 1.6rem;
      transition: color 0.2s;
    }
    .social-cta-bar .social-icons a:hover {
      color: #40E0D0;
    }
    @media (max-width: 900px) {
      .features {
        flex-direction: column;
        gap: 18px;
        align-items: center;
      }
      .testimonials {
        flex-direction: column;
        gap: 18px;
        align-items: center;
      }
      .hero h1 {
        font-size: 2.2rem;
      }
      .slider-section {
        padding: 0 0 24px 0;
      }
      .slide {
        padding: 24px 8px 24px 8px;
      }
      .customer-service-faq-flex {
        flex-direction: column;
        gap: 18px;
      }
      .notification-dropdown {
        min-width: 90vw;
        right: -20vw;
      }
      .matching-section {
        padding: 18px 4vw;
      }
      .social-cta-bar {
        font-size: 1rem;
        padding: 12px 0;
      }
    }

    /* Feedback Button Styles */
    .feedback-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 28px rgba(37,99,235,0.35);
      background: linear-gradient(135deg, #1d4ed8 0%, #38bdf8 100%);
    }

    .feedback-button:active {
      transform: translateY(0);
      box-shadow: 0 6px 16px rgba(37,99,235,0.25);
    }

    /* Responsive feedback section */
    @media (max-width: 768px) {
      .feedback-section {
        padding: 0 16px;
      }
      
      .feedback-container {
        padding: 32px 24px;
      }
      
      .feedback-form-container {
        padding: 24px 16px;
      }
      
      .feedback-button {
        padding: 14px 24px;
        font-size: 1rem;
      }
      
      .feedback-footer > div {
        flex-direction: column;
        gap: 12px;
      }
    }
 </style>
 <!-- Facebook Pixel for Landlords -->
  <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', 'YOUR_PIXEL_ID'); // Replace with your Facebook Pixel ID
    fbq('track', 'PageView');
  </script>
  <noscript>
    <img height="1" width="1" style="display:none"
         src="https://www.facebook.com/tr?id=YOUR_PIXEL_ID&ev=PageView&noscript=1"/>
  </noscript>
  <!-- End Facebook Pixel -->
</head>
<body>
  <header>
    <div class="header-logo">
      <a href="index.html" class="logo" aria-label="SichrPlace">
        <img src="img/sichrplace-logo.jpg" alt="SichrPlace logo" style="height:48px;width:auto;display:block;">
        <span class="brand-text">
          <span class="sichrplace-text">SichrPlace</span>
          <span class="certified-badge" style="display:none;">Verified</span>
        </span>
      </a>
    </div>
    <nav>
      <a href="login.html" data-translate="nav.login">Login</a>
      <a href="apartments-listing.html" data-translate="nav.apartments">Apartments</a>
      
      <!-- View link for viewing requests -->
      <a href="viewing-request.html" data-translate="nav.view">View</a>
      
      <!-- Marketplace -->
      <a href="marketplace.html" class="cart-icon" title="Marketplace" aria-label="Marketplace" data-translate-title="nav.marketplace.title" data-translate-aria="nav.marketplace.aria">
        <i class="fas fa-shopping-cart"></i>
      </a>
      
      <!-- Language Switcher moved to the rightmost position -->
      <div class="language-switcher">
        <button class="language-btn" id="language-btn" aria-label="Switch Language">
          <i class="fas fa-globe"></i>
          <span id="current-lang">EN</span>
          <i class="fas fa-chevron-down"></i>
        </button>
        <div class="language-dropdown" id="language-dropdown">
          <a href="#" data-lang="en" class="lang-option active">
            <span class="flag-emoji">🇺🇸</span>
            English
          </a>
          <a href="#" data-lang="de" class="lang-option">
            <span class="flag-emoji">🇩🇪</span>
            Deutsch
          </a>
          <a href="#" data-lang="tr" class="lang-option">
            <span class="flag-emoji">🇹🇷</span>
            Türkçe
          </a>
        </div>
      </div>
    </nav>
  </header>

  <!-- Viewing Request Modal -->
  <div id="viewing-request-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.7);z-index:9999;justify-content:center;align-items:center;">
    <div style="background:#fff;border-radius:18px;max-width:600px;width:95vw;max-height:90vh;overflow-y:auto;padding:32px 24px;box-shadow:0 2px 12px rgba(0,0,0,0.12);position:relative;">
      <div style="font-family:'Poppins',sans-serif;font-size:1.4rem;font-weight:700;color:#2563eb;text-align:center;margin-bottom:24px;">
        <i class="fa fa-calendar"></i> Apartment Viewing Request
      </div>
      <button onclick="closeViewingRequestModal()" style="position:absolute;top:16px;right:18px;background:none;border:none;font-size:1.5rem;color:#e11d48;cursor:pointer;">&times;</button>
      
      <form id="viewing-request-form" style="margin-bottom:20px;">
        <div style="margin-bottom:16px;">
          <label style="display:block;margin-bottom:6px;font-weight:600;color:#374151;">Apartment ID *</label>
          <input type="text" id="apartment-id" required placeholder="Enter the Apartment ID from our platform" style="width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:15px;">
          <small style="color:#6b7280;font-size:13px;">Find the Apartment ID on the apartment listing page</small>
        </div>
        
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px;">
          <div>
            <label style="display:block;margin-bottom:6px;font-weight:600;color:#374151;">Viewing Date *</label>
            <input type="date" id="viewing-date" required style="width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:15px;">
          </div>
          <div>
            <label style="display:block;margin-bottom:6px;font-weight:600;color:#374151;">Preferred Time *</label>
            <input type="time" id="viewing-time" required style="width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:15px;">
          </div>
        </div>
        
        <div style="margin-bottom:16px;">
          <label style="display:block;margin-bottom:6px;font-weight:600;color:#374151;">Your Name *</label>
          <input type="text" id="applicant-name" required placeholder="Enter your full name" style="width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:15px;">
        </div>
        
        <div style="margin-bottom:16px;">
          <label style="display:block;margin-bottom:6px;font-weight:600;color:#374151;">Email Address *</label>
          <input type="email" id="applicant-email" required placeholder="Enter your email address" style="width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:15px;">
        </div>
        
        <div style="margin-bottom:16px;">
          <label style="display:block;margin-bottom:6px;font-weight:600;color:#374151;">Phone Number *</label>
          <input type="tel" id="applicant-phone" required placeholder="Enter your phone number" style="width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:15px;">
        </div>
        
        <div style="margin-bottom:16px;">
          <label style="display:block;margin-bottom:6px;font-weight:600;color:#374151;">Questions or Special Requests</label>
          <textarea id="questions" placeholder="Any questions about the apartment or special requests for the viewing?" style="width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:15px;min-height:80px;resize:vertical;"></textarea>
        </div>
        
        <div style="margin-bottom:16px;">
          <label style="display:block;margin-bottom:6px;font-weight:600;color:#374151;">What should we pay attention to during the viewing?</label>
          <textarea id="attention-points" placeholder="Specific areas or aspects you'd like our team to focus on..." style="width:100%;padding:12px;border:1px solid #d1d5db;border-radius:8px;font-size:15px;min-height:80px;resize:vertical;"></textarea>
        </div>
        
        <div style="background:#f3f4f6;padding:16px;border-radius:8px;margin-bottom:20px;">
          <h4 style="margin:0 0 8px 0;color:#2563eb;font-size:16px;">
            <i class="fa fa-info-circle"></i> Viewing Service Fee
          </h4>
          <p style="margin:0;color:#6b7280;font-size:14px;">
            Our professional viewing service includes a detailed property inspection, video documentation, and expert evaluation. 
            A service fee of <strong>€25.00</strong> is required to proceed with your viewing request.
          </p>
        </div>
        
        <div style="display:flex;gap:12px;">
          <button type="button" onclick="closeViewingRequestModal()" style="flex:1;padding:12px;background:#6b7280;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;">
            Cancel
          </button>
          <button type="submit" style="flex:2;padding:12px;background:#2563eb;color:#fff;border:none;border-radius:8px;font-weight:600;cursor:pointer;">
            Continue to Payment
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- PayPal Payment Modal -->
  <div id="paypal-payment-modal" style="display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.7);z-index:10000;justify-content:center;align-items:center;">
    <div style="background:#fff;border-radius:18px;max-width:500px;width:95vw;padding:32px 24px;box-shadow:0 2px 12px rgba(0,0,0,0.12);position:relative;">
      <div style="font-family:'Poppins',sans-serif;font-size:1.4rem;font-weight:700;color:#2563eb;text-align:center;margin-bottom:24px;">
        <i class="fa fa-credit-card"></i> Complete Payment
      </div>
      <button onclick="closePayPalModal()" style="position:absolute;top:16px;right:18px;background:none;border:none;font-size:1.5rem;color:#e11d48;cursor:pointer;">&times;</button>
      
      <div style="background:#f8fafc;padding:16px;border-radius:8px;margin-bottom:24px;">
        <h4 style="margin:0 0 12px 0;color:#374151;">Viewing Request Summary</h4>
        <div style="display:flex;justify-content:space-between;margin-bottom:8px;">
          <span>Apartment ID:</span>
          <span id="summary-apartment-id" style="font-weight:600;"></span>
        </div>
        <div style="display:flex;justify-content:space-between;margin-bottom:8px;">
          <span>Viewing Date:</span>
          <span id="summary-date" style="font-weight:600;"></span>
        </div>
        <div style="display:flex;justify-content:space-between;margin-bottom:8px;">
          <span>Viewing Time:</span>
          <span id="summary-time" style="font-weight:600;"></span>
        </div>
        <div style="display:flex;justify-content:space-between;border-top:1px solid #e5e7eb;padding-top:8px;margin-top:12px;">
          <span style="font-weight:600;">Service Fee:</span>
          <span style="font-weight:600;color:#2563eb;">€25.00</span>
        </div>
      </div>
      
      <!-- PayPal Button Container -->
      <div id="paypal-button-container" style="margin-bottom:16px;"></div>
      
      <!-- PayPal Result Message Container -->
      <div id="paypal-result-message" style="display:none;margin-bottom:16px;padding:12px;border-radius:8px;background:#fef2f2;border:1px solid #fecaca;color:#b91c1c;font-size:14px;text-align:center;"></div>
      
      <div style="text-align:center;color:#6b7280;font-size:13px;">
        <i class="fa fa-lock"></i> Secure payment processed by PayPal
      </div>
    </div>
  </div>

  <main>
    <!-- Hero Section (Landing) -->
    <section class="hero">
      <div class="hero-content">
        <h1 data-translate="hero.title">Find Your Next Apartment<br>with Confidence</h1>
        <p data-translate="hero.subtitle">Secure, transparent, and easy apartment search for students and professionals in Germany.</p>
        <form class="search-bar" action="apartments-listing.html" method="get">
          <input type="text" name="q" placeholder="Search by city, address, or keyword..." aria-label="Search apartments" data-translate-placeholder="hero.search.placeholder" data-translate-aria="hero.search.aria">
          <button type="submit"><i class="fa fa-search"></i> <span data-translate="hero.search.button">Search</span></button>
        </form>
        <div class="hero-cta">
          <a href="create-account.html" class="primary" data-translate="hero.cta.getstarted">Get Started</a>
          <a href="apartments-listing.html" data-translate="hero.cta.browse">Browse Apartments</a>
        </div>
      </div>
    </section>

    <!-- How It Works Section -->
    <section style="background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); padding: 80px 0;">
      <div style="max-width: 1200px; margin: 0 auto; padding: 0 40px; text-align: center;">
        <h2 style="font-size: 2.5rem; color: var(--primary); margin-bottom: 20px; font-family: var(--heading-font);">
          <i class="fas fa-lightbulb" style="color: var(--accent); margin-right: 12px;"></i>
          How SichrPlace Works
        </h2>
        <p style="font-size: 1.2rem; color: var(--text); margin-bottom: 60px; max-width: 600px; margin-left: auto; margin-right: auto;">
          Finding your perfect apartment is simple with our streamlined process
        </p>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; margin-top: 50px;">
          <!-- Step 1: Browse -->
          <div style="background: white; padding: 40px 30px; border-radius: 18px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); position: relative; border-top: 4px solid var(--primary);">
            <div style="background: var(--primary); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: bold; margin: 0 auto 20px;">1</div>
            <div style="background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 4rem; margin-bottom: 15px;">
              <i class="fas fa-search"></i>
            </div>
            <h3 style="color: var(--primary); font-size: 1.4rem; margin-bottom: 15px; font-family: var(--heading-font);">Browse Apartments</h3>
            <p style="color: var(--text); line-height: 1.6; margin-bottom: 20px;">Search for apartments by location, use our simple filters (price, bedrooms, type), or browse all available listings. Every apartment is verified for safety.</p>
            <a href="apartments-listing.html" style="display: inline-flex; align-items: center; gap: 8px; color: var(--primary); font-weight: 600; text-decoration: none; padding: 10px 20px; border: 2px solid var(--primary); border-radius: 8px; transition: all 0.3s;" onmouseover="this.style.background='var(--primary)'; this.style.color='white';" onmouseout="this.style.background='transparent'; this.style.color='var(--primary)';">
              <i class="fas fa-arrow-right"></i> Start Browsing
            </a>
          </div>

          <!-- Step 2: Schedule Viewing -->
          <div style="background: white; padding: 40px 30px; border-radius: 18px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); position: relative; border-top: 4px solid var(--accent);">
            <div style="background: var(--accent); color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: bold; margin: 0 auto 20px;">2</div>
            <div style="background: linear-gradient(135deg, var(--accent), var(--primary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 4rem; margin-bottom: 15px;">
              <i class="fas fa-calendar-check"></i>
            </div>
            <h3 style="color: var(--primary); font-size: 1.4rem; margin-bottom: 15px; font-family: var(--heading-font);">Schedule a Viewing</h3>
            <p style="color: var(--text); line-height: 1.6; margin-bottom: 20px;">Found an apartment you like? Click "Schedule Viewing" and fill out the simple form with your contact details and preferred viewing time. We conduct all viewings professionally.</p>
            <a href="viewing-request.html" style="display: inline-flex; align-items: center; gap: 8px; color: var(--accent); font-weight: 600; text-decoration: none; padding: 10px 20px; border: 2px solid var(--accent); border-radius: 8px; transition: all 0.3s;" onmouseover="this.style.background='var(--accent)'; this.style.color='white';" onmouseout="this.style.background='transparent'; this.style.color='var(--accent)';">
              <i class="fas fa-calendar"></i> Schedule Now
            </a>
          </div>

          <!-- Step 3: Secure Payment -->
          <div style="background: white; padding: 40px 30px; border-radius: 18px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); position: relative; border-top: 4px solid #28a745;">
            <div style="background: #28a745; color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; font-weight: bold; margin: 0 auto 20px;">3</div>
            <div style="background: linear-gradient(135deg, #28a745, var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 4rem; margin-bottom: 15px;">
              <i class="fas fa-shield-alt"></i>
            </div>
            <h3 style="color: var(--primary); font-size: 1.4rem; margin-bottom: 15px; font-family: var(--heading-font);">Secure Payment</h3>
            <p style="color: var(--text); line-height: 1.6; margin-bottom: 20px;">Complete your viewing request with our secure PayPal payment system. A small viewing fee ensures serious inquiries and helps us maintain high-quality service.</p>
            <div style="display: inline-flex; align-items: center; gap: 8px; color: #28a745; font-weight: 600; padding: 10px 20px; border: 2px solid #28a745; border-radius: 8px;">
              <i class="fab fa-paypal"></i> PayPal Protected
            </div>
          </div>
        </div>
        
        <!-- Quick Tips -->
        <div style="background: white; border-radius: 18px; padding: 40px; margin-top: 60px; box-shadow: 0 8px 25px rgba(0,0,0,0.1); border-left: 6px solid var(--accent);">
          <h3 style="color: var(--primary); font-size: 1.8rem; margin-bottom: 25px; text-align: center; font-family: var(--heading-font);">
            <i class="fas fa-star" style="color: var(--accent); margin-right: 10px;"></i>
            Quick Tips for Success
          </h3>
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; text-align: left;">
            <div style="display: flex; align-items: flex-start; gap: 15px;">
              <div style="background: var(--primary); color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; margin-top: 2px;">
                <i class="fas fa-search" style="font-size: 12px;"></i>
              </div>
              <div>
                <h4 style="color: var(--primary); margin: 0 0 8px 0; font-size: 1.1rem;">Use Location Search</h4>
                <p style="color: var(--text); margin: 0; line-height: 1.5;">Search by neighborhood names, postal codes, or nearby landmarks for the best results.</p>
              </div>
            </div>
            <div style="display: flex; align-items: flex-start; gap: 15px;">
              <div style="background: var(--accent); color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; margin-top: 2px;">
                <i class="fas fa-clock" style="font-size: 12px;"></i>
              </div>
              <div>
                <h4 style="color: var(--primary); margin: 0 0 8px 0; font-size: 1.1rem;">Book Viewings Early</h4>
                <p style="color: var(--text); margin: 0; line-height: 1.5;">Popular apartments fill up quickly. Schedule your viewing as soon as you find something you like.</p>
              </div>
            </div>
            <div style="display: flex; align-items: flex-start; gap: 15px;">
              <div style="background: #28a745; color: white; border-radius: 50%; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; flex-shrink: 0; margin-top: 2px;">
                <i class="fas fa-shield-alt" style="font-size: 12px;"></i>
              </div>
              <div>
                <h4 style="color: var(--primary); margin: 0 0 8px 0; font-size: 1.1rem;">Stay Safe</h4>
                <p style="color: var(--text); margin: 0; line-height: 1.5;">All our listings are verified. If something seems suspicious, contact our customer service immediately.</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Call to Action -->
        <div style="text-align: center; margin-top: 50px;">
          <h3 style="color: var(--primary); font-size: 1.6rem; margin-bottom: 20px; font-family: var(--heading-font);">Ready to Find Your Perfect Apartment?</h3>
          <div style="display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
            <a href="apartments-listing.html" style="display: inline-flex; align-items: center; gap: 10px; background: var(--primary); color: white; padding: 15px 30px; border-radius: 10px; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s; box-shadow: 0 4px 15px rgba(37, 99, 235, 0.3);" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 8px 25px rgba(37, 99, 235, 0.4)';" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(37, 99, 235, 0.3)';">
              <i class="fas fa-home"></i> Browse Apartments
            </a>
            <a href="create-account.html" style="display: inline-flex; align-items: center; gap: 10px; background: transparent; color: var(--primary); padding: 15px 30px; border: 2px solid var(--primary); border-radius: 10px; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s;" onmouseover="this.style.background='var(--primary)'; this.style.color='white';" onmouseout="this.style.background='transparent'; this.style.color='var(--primary)';">
              <i class="fas fa-user-plus"></i> Create Account
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features">
      <div class="feature-card">
        <i class="fa fa-home"></i>
        <h3 data-translate="features.verified.title">Verified Listings</h3>
        <p data-translate="features.verified.description">All apartments are verified for authenticity to protect you from scams.</p>
      </div>
      <div class="feature-card">
        <i class="fa fa-comments"></i>
        <h3 data-translate="features.messaging.title">Secure Messaging</h3>
        <p data-translate="features.messaging.description">Chat safely with landlords and renters using our built-in messaging system.</p>
      </div>
      <div class="feature-card">
        <i class="fa fa-filter"></i>
        <h3 data-translate="features.filters.title">Advanced Filters</h3>
        <p data-translate="features.filters.description">Find your perfect home with filters for price, location, facilities, and more.</p>
      </div>
      <div class="feature-card">
        <i class="fa fa-star"></i>
        <h3 data-translate="features.rated.title">Top Rated Apartments</h3>
        <p data-translate="features.rated.description">See the best-rated apartments and reviews from real tenants.</p>
      </div>
    </section>

    <!-- Customer Service, FAQ, and Viewing Service Section -->
    <section class="customer-service-faq-section">
      <div class="customer-service-faq-container">
        <h2><i class="fa fa-headset"></i> Customer Service, FAQ & Viewing Service</h2>
        <div class="customer-service-faq-flex">
          <!-- FAQ -->
          <div>
            <h3>Frequently Asked Questions</h3>
            <ul>
              <li><strong>How do I list a new apartment?</strong><br>Go to your dashboard and click "Create Apartment Offer".</li>
              <li><strong>How do I schedule a viewing?</strong><br>Approve a viewing request in your dashboard and follow the prompts.</li>
              <li><strong>How do I generate a digital contract?</strong><br>Use the "Viewing & Contract" card on your dashboard after a successful viewing.</li>
              <li><strong>How do I contact support?</strong><br>Email us at <a href="mailto:sichrplace@gmail.com">sichrplace@gmail.com</a> or call +49 123 456789.</li>
            </ul>
          </div>
          <!-- Viewing Service -->
          <div>
            <h3>Viewing Service</h3>
            <p>
              Our customer managers can conduct viewings on your behalf, record apartment videos, and assist with digital contract generation.<br>
              To use this service, simply proceed with a viewing and select "Generate Contract" when ready.
            </p>
            <h3>Contact Customer Service</h3>
            <form id="customer-service-form">
              <input type="text" id="cs-name" name="cs-name" placeholder="Your Name" required>
              <input type="email" id="cs-email" name="cs-email" placeholder="Your Email" required>
              <textarea id="cs-message" name="cs-message" rows="3" placeholder="Your Message" required></textarea>
              <button type="submit">Send Message</button>
            </form>
            <div id="customer-service-status"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Slider Section: Top Rated, Applicants, Opinions, Marketplace, Scam Stories -->
    <section class="slider-section">
      <div class="slider-container">
        <div class="slides" id="slides">
          <!-- Slide 1: Top Rated Apartments -->
          <div class="slide">
            <h2>Top Rated Apartments</h2>
            <div class="top-apartments-list">
              <div class="apartment-card">
                <img src="img/apartment1.jpg" alt="Apartment 1">
                <div class="apartment-info">
                  <strong>123 Main St</strong>
                  <span>⭐ 4.8 (32 reviews)</span>
                  <span class="badge">12 applicants</span>
                  <span class="interview">Interview Required</span>
                </div>
                <button class="wishlist-btn" onclick="toggleWishlist(this)" title="Add to wishlist"><i class="fa fa-heart"></i></button>
              </div>
              <div class="apartment-card">
                <img src="img/apartment2.jpg" alt="Apartment 2">
                <div class="apartment-info">
                  <strong>456 Elm St</strong>
                  <span>⭐ 4.7 (21 reviews)</span>
                  <span class="badge">7 applicants</span>
                </div>
                <button class="wishlist-btn" onclick="toggleWishlist(this)" title="Add to wishlist"><i class="fa fa-heart"></i></button>
              </div>
              <div class="apartment-card">
                <img src="img/apartment3.jpg" alt="Apartment 3">
                <div class="apartment-info">
                  <strong>789 Oak Ave</strong>
                  <span>⭐ 4.9 (18 reviews)</span>
                  <span class="badge">3 applicants</span>
                  <span class="interview">Interview Required</span>
                </div>
                <button class="wishlist-btn" onclick="toggleWishlist(this)" title="Add to wishlist"><i class="fa fa-heart"></i></button>
              </div>
            </div>
          </div>
          <!-- Slide 2: User Opinions -->
          <div class="slide">
            <div class="user-opinions">
              <h2>User Opinions</h2>
              <form id="opinion-form">
                <textarea id="opinion-text" placeholder="Share your opinion..." required></textarea>
                <button type="submit">Submit</button>
              </form>
              <div id="opinions-list"></div>
            </div>
          </div>
          <!-- Slide 3: Marketplace -->
          <div class="slide">
            <h2>Everyday Apartment Tools Marketplace</h2>
            <p>Find and offer useful tools and services for your apartment life. <br>
              <a href="marketplace.html" style="color:var(--primary);font-weight:600;">Visit Marketplace</a>
            </p>
          </div>
          <!-- Slide 4: Scam Story Chat Group -->
          <div class="slide">
            <h2>Tell Your Scam Story</h2>
            <p>Join our public chat group to share and read scam stories. <br>
              <a href="scam-stories.html" style="color:var(--primary);font-weight:600;">Go to Scam Stories</a>
            </p>
          </div>
        </div>
      </div>
      <div class="slider-nav" id="slider-nav">
        <button class="slider-dot active" onclick="showSlide(0)"></button>
        <button class="slider-dot" onclick="showSlide(1)"></button>
        <button class="slider-dot" onclick="showSlide(2)"></button>
        <button class="slider-dot" onclick="showSlide(3)"></button>
      </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials-section" style="max-width:950px;margin:60px auto 0 auto;">
      <h2 style="font-family:var(--heading-font);color:var(--primary);text-align:center;margin-bottom:32px;font-size:2rem;font-weight:700;">What Our Users Say</h2>
      <div class="testimonials" style="display:flex;flex-wrap:wrap;gap:32px;justify-content:center;">
        <div class="testimonial" style="background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:28px 22px;max-width:320px;flex:1 1 260px;display:flex;flex-direction:column;align-items:center;text-align:center;">
          <p style="font-size:1.08rem;color:var(--text);margin-bottom:18px;font-style:italic;">"SichrPlace helped me find a safe apartment in Cologne. The process was smooth and transparent!"</p>
          <div class="user" style="display:flex;align-items:center;gap:12px;">
            <img src="img/user1.jpg" alt="User 1" style="width:48px;height:48px;border-radius:50%;object-fit:cover;box-shadow:0 1px 4px rgba(0,0,0,0.08);">
            <div class="user-info" style="font-family:var(--heading-font);font-weight:600;color:var(--primary);">
              Anna S.<br>
              <span style="font-size:0.95rem;font-weight:400;color:var(--muted);">Student</span>
            </div>
          </div>
        </div>
        <div class="testimonial" style="background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:28px 22px;max-width:320px;flex:1 1 260px;display:flex;flex-direction:column;align-items:center;text-align:center;">
          <p style="font-size:1.08rem;color:var(--text);margin-bottom:18px;font-style:italic;">"As a landlord, I appreciate the verification and messaging tools. Highly recommended!"</p>
          <div class="user" style="display:flex;align-items:center;gap:12px;">
            <img src="img/user2.jpg" alt="User 2" style="width:48px;height:48px;border-radius:50%;object-fit:cover;box-shadow:0 1px 4px rgba(0,0,0,0.08);">
            <div class="user-info" style="font-family:var(--heading-font);font-weight:600;color:var(--primary);">
              Markus R.<br>
              <span style="font-size:0.95rem;font-weight:400;color:var(--muted);">Landlord</span>
            </div>
          </div>
        </div>
        <div class="testimonial" style="background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:28px 22px;max-width:320px;flex:1 1 260px;display:flex;flex-direction:column;align-items:center;text-align:center;">
          <p style="font-size:1.08rem;color:var(--text);margin-bottom:18px;font-style:italic;">"The advanced filters made it easy to find exactly what I needed. Great platform!"</p>
          <div class="user" style="display:flex;align-items:center;gap:12px;">
            <img src="img/user3.jpg" alt="User 3" style="width:48px;height:48px;border-radius:50%;object-fit:cover;box-shadow:0 1px 4px rgba(0,0,0,0.08);">
            <div class="user-info" style="font-family:var(--heading-font);font-weight:600;color:var(--primary);">
              Fatima K.<br>
              <span style="font-size:0.95rem;font-weight:400;color:var(--muted);">Young Professional</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- User Feedback Section -->
    <section class="feedback-section" style="max-width:950px;margin:60px auto 0 auto;padding:0 20px;">
      <div class="feedback-container" style="background:linear-gradient(135deg,var(--secondary) 0%,#ffffff 100%);border-radius:var(--radius);box-shadow:var(--shadow);padding:48px 40px;text-align:center;border:1px solid rgba(37,99,235,0.08);">
        <div class="feedback-header" style="margin-bottom:32px;">
          <div class="feedback-icon" style="width:64px;height:64px;background:linear-gradient(135deg,var(--primary) 0%,var(--accent) 100%);border-radius:50%;margin:0 auto 20px auto;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 20px rgba(37,99,235,0.15);">
            <i class="fas fa-comments" style="color:white;font-size:24px;"></i>
          </div>
          <h2 style="font-family:var(--heading-font);color:var(--primary);font-size:2rem;font-weight:700;margin-bottom:12px;">Share Your Experience</h2>
          <p style="color:var(--muted);font-size:1.1rem;line-height:1.6;max-width:600px;margin:0 auto;">Help us improve SichrPlace by sharing your feedback. Your insights help us create a better platform for everyone in the community.</p>
        </div>

        <div class="feedback-form-container" style="background:var(--card);border-radius:16px;padding:32px;box-shadow:0 4px 12px rgba(0,0,0,0.05);border:1px solid rgba(37,99,235,0.06);">
          <div class="form-preview" style="margin-bottom:24px;">
            <div style="display:flex;align-items:center;justify-content:center;gap:12px;margin-bottom:16px;">
              <div style="width:8px;height:8px;background:var(--primary);border-radius:50%;"></div>
              <span style="color:var(--primary);font-weight:600;font-family:var(--heading-font);">Quick Feedback Form</span>
              <div style="width:8px;height:8px;background:var(--accent);border-radius:50%;"></div>
            </div>
            <p style="color:var(--text);font-size:0.95rem;">Share your thoughts about our platform, features, and overall experience</p>
          </div>

          <!-- Primary CTA Button -->
          <div class="feedback-cta-primary" style="margin-bottom:32px;">
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSd11S_WSXvhxQgUlksFdZfvErbBZgaiKA484lsp9-sYIYK_IA/viewform" 
               target="_blank" 
               class="feedback-button"
               style="display:inline-flex;align-items:center;gap:12px;background:linear-gradient(135deg,var(--primary) 0%,var(--accent) 100%);color:white;padding:16px 32px;border-radius:12px;text-decoration:none;font-weight:600;font-family:var(--heading-font);font-size:1.1rem;box-shadow:0 8px 20px rgba(37,99,235,0.25);transition:all 0.3s ease;border:none;cursor:pointer;">
              <i class="fas fa-external-link-alt" style="font-size:16px;"></i>
              <span>Open Feedback Form</span>
            </a>
          </div>

          <!-- Embedded Form -->
          <div class="embedded-form" style="position:relative;">
            <iframe 
              src="https://docs.google.com/forms/d/e/1FAIpQLSd11S_WSXvhxQgUlksFdZfvErbBZgaiKA484lsp9-sYIYK_IA/viewform?embedded=true" 
              width="100%" 
              height="600" 
              frameborder="0" 
              marginheight="0" 
              marginwidth="0"
              style="border-radius:12px;background:#ffffff;box-shadow:inset 0 2px 8px rgba(0,0,0,0.02);"
              title="SichrPlace User Feedback Form">
              Yükleniyor…
            </iframe>
            
            <!-- Error fallback -->
            <div class="form-error" style="display:none;text-align:center;padding:40px;background:#f8f9fa;border-radius:12px;border:2px dashed #e9ecef;">
              <i class="fas fa-exclamation-triangle" style="color:#ffc107;font-size:24px;margin-bottom:12px;"></i>
              <p style="color:var(--text);margin-bottom:16px;">Unable to load the embedded form.</p>
              <a href="https://docs.google.com/forms/d/e/1FAIpQLSd11S_WSXvhxQgUlksFdZfvErbBZgaiKA484lsp9-sYIYK_IA/viewform" 
                 target="_blank" 
                 style="color:var(--primary);font-weight:600;text-decoration:none;border-bottom:2px solid var(--accent);">
                Click here to open the feedback form in a new tab
              </a>
            </div>
          </div>

          <div class="feedback-footer" style="margin-top:24px;padding-top:20px;border-top:1px solid rgba(37,99,235,0.08);">
            <div style="display:flex;align-items:center;justify-content:center;gap:16px;flex-wrap:wrap;">
              <div style="display:flex;align-items:center;gap:8px;">
                <i class="fas fa-user-secret" style="color:var(--accent);font-size:16px;"></i>
                <span style="color:var(--muted);font-size:0.9rem;">100% Anonymous</span>
              </div>
              <div style="display:flex;align-items:center;gap:8px;">
                <i class="fas fa-clock" style="color:var(--primary);font-size:16px;"></i>
                <span style="color:var(--muted);font-size:0.9rem;">Takes 2-3 minutes</span>
              </div>
              <div style="display:flex;align-items:center;gap:8px;">
                <i class="fas fa-heart" style="color:#e74c3c;font-size:16px;"></i>
                <span style="color:var(--muted);font-size:0.9rem;">Helps improve our platform</span>
              </div>
            </div>
          </div>
        </div>

        <div class="feedback-cta" style="margin-top:32px;">
          <p style="color:var(--text);font-size:0.95rem;margin-bottom:16px;">
            <strong>Have a specific issue or suggestion?</strong> 
            <a href="customer-service.html" style="color:var(--primary);text-decoration:none;font-weight:600;border-bottom:2px solid var(--accent);">Contact our support team</a>
          </p>
          <div style="display:flex;align-items:center;justify-content:center;gap:16px;margin-top:20px;">
            <div style="width:32px;height:2px;background:linear-gradient(90deg,transparent,var(--accent),transparent);"></div>
            <span style="color:var(--accent);font-size:0.9rem;font-weight:500;">Thank you for helping us grow!</span>
            <div style="width:32px;height:2px;background:linear-gradient(90deg,transparent,var(--accent),transparent);"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Smart Matching & Secure Payments Section at the bottom -->
    <section class="matching-section">
      <h2><i class="fa fa-handshake"></i> Smart Matching & Secure Payments</h2>
      <ul class="matching-features-list">
        <li>
          <i class="fa fa-filter"></i>
          <span>
            <strong>Detailed Preferences:</strong> Both apartment searchers and landlords specify detailed preferences. Only compatible parties are matched and can see each other, ensuring relevant and efficient connections.
          </span>
        </li>
        <li>
          <i class="fa fa-clock"></i>
          <span>
            <strong>Auto-Deactivation:</strong> If a landlord does not interact with their offer within a set period, the listing is automatically deactivated to keep results fresh and reliable.
          </span>
        </li>
        <li>
          <i class="fa fa-euro-sign"></i>
          <span>
            <strong>Platform Payments:</strong> All payments—including searcher-to-company, company-to-landlord, and landlord-to-renter deposit returns—are processed exclusively through SichrPlace for maximum security and transparency.
          </span>
        </li>
      </ul>
      <div class="info">
        <i class="fa fa-info-circle"></i>
        <span>
          Matching and payment flows are fully automated. Conflicting or non-matching parties will not see each other, and all transactions are securely handled by the platform.
        </span>
      </div>
      <div class="payment-flow">
        <strong>How it works:</strong>
        <ol style="margin:10px 0 0 18px;">
          <li>Apartment searchers pay the platform for booking or deposit.</li>
          <li>Landlords receive payments from the platform after successful rental agreements.</li>
          <li>Deposit repayments from landlords to renters are managed and released by SichrPlace after move-out.</li>
        </ol>
      </div>
    </section>
  </main>

 <!-- Social CTA Bar for Instagram/TikTok/Facebook (BOTTOM) -->
  <div class="social-cta-bar" style="margin-top:40px;">
    <span>
      <strong>Are you a landlord?</strong> <a href="apartments-listing.html" target="_blank" style="color:#2563eb;text-decoration:underline;">List your apartment with us and reach verified tenants!</a>
      <br>
      <strong>Students &amp; Young Professionals:</strong> Follow us for apartment tips, stories, and offers!
    </span>
    <div class="social-icons">
      <a href="https://www.facebook.com/sichrplace" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
      <a href="https://www.instagram.com/sichrplace" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
      <a href="https://www.tiktok.com/@sichrplace" target="_blank" aria-label="TikTok"><i class="fab fa-tiktok"></i></a>
    </div>
  </div>

<!-- SEO & Content Marketing: Hidden for SEO, not visible to users -->
  <div style="display:none">
    student apartments Cologne, safe student housing Aachen, verified student rentals Germany, young professional apartments Cologne, secure rentals for professionals Aachen, digital nomad housing Germany, list my apartment Cologne, safe landlord platform Germany, tenant screening Germany, apartments near University of Cologne, Aachen student flats, How to Avoid Rental Scams as a Student in Germany, Top 5 Student Neighborhoods in Cologne, How to Avoid Rental Scams as a Landlord, The Benefits of Verified Tenants, rental safety, moving tips, city-specific advice, reviews from tenants and landlords, SichrPlace verification system, automated tenant screening, digital onboarding, streamlined communication, owner portal, property performance, rental income, tenant communications, background checks, document verification, digital contracts, automated reminders, paperless processes, prompt support, local real estate agents Köln Aachen, landlord associations, university housing offices, student influencers, university social media, free trials for landlords, listing credits, loyalty schemes, success stories, testimonials, virtual demos, webinars, referral programs, brand identity, trademark registration, MVP security features, landlord verification, property authentication, transparent pricing, university partnerships, pilot marketing campaigns, GDPR, German rental law, Series A funding, product development, technical solutions, business development, marketing, customer service, apartment checking, finances, fund allocation, investor relations, users create profiles, advanced filters, booking requests, viewing requests, GoPro video tour, digital contract, GDPR-compliant servers, Rent Securely. SichrPlace., Transparency and Trust for Landlords., Find Your Next Home—Safe, Simple, Student-Friendly., Rent stress-free with SichrPlace: Verified tenants, digital processes, maximum security. Try it free!, 5 Reasons to Trust SichrPlace With Your Rental, How SichrPlace Verifies Tenants and Apartments, Digital Renting in Germany: Security and Simplicity for Landlords, How Students Can Avoid Rental Scams in Germany
  </div>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "SichrPlace",
    "url": "https://sichrplace.com/",
    "description": "Find safe, verified apartments for students and young professionals in Germany. Secure messaging, trusted landlords, and exclusive offers for AIESEC and university students.",
    "keywords": [
      "student apartments Cologne",
      "safe student housing Aachen",
      "verified student rentals Germany",
      "young professional apartments Cologne",
      "secure rentals for professionals Aachen",
      "digital nomad housing Germany",
      "list my apartment Cologne",
      "safe landlord platform Germany",
      "tenant screening Germany"
    ]
  }
  </script>


  <footer>
    <div class="footer-links">
      <a href="about.html" data-translate="footer.about">About</a>
      <a href="faq.html">FAQ</a>
      <a href="customer-service.html">Customer Service</a>
      <a href="marketplace.html">Marketplace</a>
      <a href="instruction-guide.html">User Guide</a>
      <a href="privacy-policy.html" data-translate="footer.privacy">Privacy Policy</a>
      <a href="terms-of-service.html" data-translate="footer.terms">Terms of Service</a>
    </div>
    <div class="footer-social">
      <a href="https://www.linkedin.com/company/sichrplace/" target="_blank"><i class="fab fa-linkedin"></i></a>
      <a href="https://www.facebook.com/sichrplace" target="_blank"><i class="fab fa-facebook"></i></a>
      <a href="https://www.instagram.com/sichrplace" target="_blank"><i class="fab fa-instagram"></i></a>
      <a href="https://www.tiktok.com/@sichrplace" target="_blank"><i class="fab fa-tiktok"></i></a>
    </div>
    
    <!-- SichrPlace Footer Logo -->
    <div class="footer-brand" style="text-align: center; margin: 20px 0;">

      <div class="footer-brand-text" style="color: #6B7280; font-size: 14px;">
        Your Trusted Rental Platform
      </div>
    </div>
    
    <p style="margin-top:16px;">&copy; 2025 SichrPlace. All rights reserved.<br>
      Created by <a href="https://www.linkedin.com/in/z%C3%A9t%C3%A9ny-dobos/?originalSubdomain=hu" style="color:#40E0D0;">Zétény Dobos</a> and <a href="https://www.linkedin.com/in/%C3%B6mer-%C3%BC%C3%A7kale-482787202/" style="color:#40E0D0;">Ömer Üçkale</a>.
    </p>
  </footer>
  <script>
    // Simple slider logic
    let currentSlide = 0;
    function showSlide(idx) {
      const slides = document.getElementById('slides');
      const dots = document.querySelectorAll('.slider-dot');
      currentSlide = idx;
      slides.style.transform = `translateX(-${idx * 100}%)`;
      dots.forEach((dot, i) => dot.classList.toggle('active', i === idx));
    }

    // Wishlist button logic
    function toggleWishlist(btn) {
      btn.classList.toggle('active');
    }
    
     // Viewing Request Modal logic
    let viewingRequestData = {};
    
    function openViewingRequestModal() {
      document.getElementById('viewing-request-modal').style.display = 'flex';
      // Set minimum date to today
      const today = new Date().toISOString().split('T')[0];
      document.getElementById('viewing-date').min = today;
    }
    
    function closeViewingRequestModal() {
      document.getElementById('viewing-request-modal').style.display = 'none';
      document.getElementById('viewing-request-form').reset();
    }
    
    function closePayPalModal() {
      document.getElementById('paypal-payment-modal').style.display = 'none';
    }
    
    // Handle viewing request form submission
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('viewing-request-form');
      if (form) {
        form.addEventListener('submit', function(e) {
          e.preventDefault();
          
          // Collect form data
          viewingRequestData = {
            apartmentId: document.getElementById('apartment-id').value,
            viewingDate: document.getElementById('viewing-date').value,
            viewingTime: document.getElementById('viewing-time').value,
            applicantName: document.getElementById('applicant-name').value,
            applicantEmail: document.getElementById('applicant-email').value,
            applicantPhone: document.getElementById('applicant-phone').value,
            questions: document.getElementById('questions').value,
            attentionPoints: document.getElementById('attention-points').value
          };
          
          // Validate required fields
          const requiredFields = ['apartmentId', 'viewingDate', 'viewingTime', 'applicantName', 'applicantEmail', 'applicantPhone'];
          const missingFields = requiredFields.filter(field => !viewingRequestData[field]);
          
          if (missingFields.length > 0) {
            alert('Please fill in all required fields.');
            return;
          }
          
          // Validate email format
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
          if (!emailRegex.test(viewingRequestData.applicantEmail)) {
            alert('Please enter a valid email address.');
            return;
          }
          
          // Check if viewing date is not in the past
          const selectedDate = new Date(viewingRequestData.viewingDate);
          const today = new Date();
          today.setHours(0, 0, 0, 0);
          
          if (selectedDate < today) {
            alert('Please select a future date for the viewing.');
            return;
          }
          
          // Show payment modal
          showPaymentModal();
        });
      }
    });
    
    function showPaymentModal() {
      // Update summary in payment modal
      document.getElementById('summary-apartment-id').textContent = viewingRequestData.apartmentId;
      document.getElementById('summary-date').textContent = formatDate(viewingRequestData.viewingDate);
      document.getElementById('summary-time').textContent = viewingRequestData.viewingTime;
      
      // Hide viewing request modal
      document.getElementById('viewing-request-modal').style.display = 'none';
      
      // Show PayPal modal
      document.getElementById('paypal-payment-modal').style.display = 'flex';
      
      // Initialize PayPal button
      initializePayPalButton();
    }
    
    function formatDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('en-GB', {
        day: '2-digit',
        month: '2-digit',
        year: 'numeric'
      });
    }
    
    function initializePayPalButton() {
      // Clear any existing PayPal button
      const container = document.getElementById('paypal-button-container');
      container.innerHTML = '';
      
      window.paypal.Buttons({
        style: {
          shape: "rect",
          layout: "vertical",
          color: "blue",
          label: "paypal",
        },
        message: {
          amount: 25,
        },

        async createOrder() {
          try {
            const response = await fetch('/api/paypal/create', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({
                amount: 25.00,
                currency: 'EUR',
                description: `SichrPlace Viewing Service - Apartment ${viewingRequestData.apartmentId}`,
                apartmentId: viewingRequestData.apartmentId,
                viewingRequestId: `vr_${Date.now()}`,
                returnUrl: `${window.location.origin}/frontend/viewing-success.html`,
                cancelUrl: `${window.location.origin}/frontend/viewing-cancelled.html`
              }),
            });

            const orderData = await response.json();

            if (orderData.success && orderData.paymentId) {
              // Store payment ID for later use
              window.currentPaymentId = orderData.paymentId;
              return orderData.paymentId;
            }
            
            throw new Error(orderData.error || 'Failed to create PayPal order');
          } catch (error) {
            console.error('PayPal createOrder error:', error);
            resultMessage(`Could not initiate PayPal Checkout...<br><br>${error.message}`);
          }
        },

        async onApprove(data, actions) {
          try {
            const response = await fetch('/api/paypal/execute', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify({
                orderId: data.orderID,
                payerId: data.payerID
              }),
            });

            const result = await response.json();
            
            if (result.success && result.status === 'completed') {
              // Payment successful - submit viewing request
              await submitViewingRequest(result.transactionId);
              resultMessage(`✅ Payment completed successfully! <br>Your viewing request has been submitted.<br>Transaction ID: ${result.transactionId}`);
              
              // Close PayPal modal and show success
              setTimeout(() => {
                closePayPalModal();
                showSuccessMessage('Your viewing request has been submitted successfully! Check your email for confirmation.');
              }, 2000);
            } else {
              throw new Error(result.error || 'Payment execution failed');
            }
          } catch (error) {
            console.error('PayPal onApprove error:', error);
            resultMessage(`❌ Payment processing failed: ${error.message}`);
          }
        },

        onError(err) {
          console.error('PayPal error:', err);
          resultMessage('PayPal encountered an error. Please try again or contact support.');
        },

        onCancel(data) {
          console.log('Payment cancelled:', data);
          resultMessage('Payment was cancelled. You can try again when ready.');
        }
      }).render('#paypal-button-container');
    }

    // Function to show result messages in the PayPal modal
    function resultMessage(message) {
      const container = document.querySelector('#paypal-result-message');
      if (container) {
        container.innerHTML = message;
        container.style.display = 'block';
      }
    }
    
    function showEnhancedSuccessMessage(orderData) {
      const successModal = document.createElement('div');
      successModal.style.cssText = `
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
        background: rgba(0,0,0,0.7); z-index: 10001; display: flex;
        justify-content: center; align-items: center;
      `;
      
      successModal.innerHTML = `
        <div style="background: #fff; border-radius: 18px; max-width: 600px; width: 95vw; padding: 32px 24px; text-align: center;">
          <div style="color: #10b981; font-size: 3rem; margin-bottom: 16px;">
            <i class="fa fa-thumbs-up"></i>
          </div>
          <h3 style="margin: 0 0 16px 0; color: #2563eb; font-family: 'Poppins', sans-serif;">
            Payment Successful!
          </h3>
          <p style="margin: 0 0 16px 0; color: #374151; line-height: 1.6;">
            Your viewing request has been submitted and payment confirmed successfully.
          </p>
          
          <div style="background: #f8fafc; padding: 20px; border-radius: 8px; margin: 20px 0; text-align: left;">
            <h4 style="margin: 0 0 12px 0; color: #374151; text-align: center;">Request Details</h4>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 14px;">
              <div><strong>Request ID:</strong></div>
              <div>${orderData.requestId}</div>
              <div><strong>Transaction:</strong></div>
              <div>${orderData.paymentDetails?.transactionId || 'Processing...'}</div>
              <div><strong>Amount:</strong></div>
              <div>€${orderData.paymentDetails?.amount || '25.00'}</div>
              <div><strong>Manager:</strong></div>
              <div>${orderData.assignedManager}</div>
            </div>
          </div>
          
          <div style="background: #ecfdf5; border: 1px solid #d1fae5; padding: 16px; border-radius: 8px; margin-bottom: 20px; text-align: left;">
            <h4 style="margin: 0 0 8px 0; color: #065f46;">Next Steps:</h4>
            <ul style="margin: 0; padding-left: 20px; color: #047857; line-height: 1.6;">
              ${orderData.nextSteps?.map(step => `<li>${step}</li>`).join('') || 
                '<li>Confirmation email sent to your address</li><li>Customer manager will contact you within 24 hours</li>'}
            </ul>
          </div>
          
          <div style="display: flex; gap: 12px; justify-content: center;">
            <button onclick="this.closest('div[style*=\\"position: fixed\\"]').remove()" 
                    style="padding: 12px 24px; background: #2563eb; color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">
              Got it!
            </button>
            <button onclick="window.location.reload()" 
                    style="padding: 12px 24px; background: #f3f4f6; color: #374151; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">
              Browse More
            </button>
          </div>
        </div>
      `;
      
      document.body.appendChild(successModal);
      
      // Auto-remove after 15 seconds (increased time for more information)
      setTimeout(() => {
        if (successModal.parentNode) {
          successModal.remove();
        }
      }, 15000);
    }

    // Submit viewing request to backend after successful payment
    async function submitViewingRequest(transactionId) {
      try {
        const response = await fetch('/api/viewing-request', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            ...viewingRequestData,
            transactionId: transactionId,
            paymentStatus: 'completed'
          }),
        });

        const result = await response.json();
        
        if (!result.success) {
          throw new Error(result.error || 'Failed to submit viewing request');
        }
        
        console.log('Viewing request submitted successfully:', result);
        return result;
      } catch (error) {
        console.error('Error submitting viewing request:', error);
        throw error;
      }
    }

    function showSuccessMessage() {
      // Fallback for legacy compatibility
      showEnhancedSuccessMessage({
        requestId: 'Processing...',
        assignedManager: 'TBD',
        nextSteps: [
          'Confirmation email will be sent shortly',
          'Customer manager will be assigned',
          'You will be contacted within 24 hours'
        ]
      });
    }

     // --- CSRF Protection: fetch token and use in protected requests ---
    async function getCsrfToken() {
      const res = await fetch('/api/csrf-token', { credentials: 'include' });
      const data = await res.json();
      return data.csrfToken;
    }

    async function sendProtectedRequest(url, method, body) {
      const csrfToken = await getCsrfToken();
      const res = await fetch(url, {
        method,
        headers: {
          'Content-Type': 'application/json',
          'X-CSRF-Token': csrfToken
        },
        credentials: 'include',
        body: JSON.stringify(body)
      });
      return res.json();
    }
    // --- End CSRF Protection helpers ---


// User opinions logic
    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('opinion-form');
      if (form) {
        form.addEventListener('submit', async function(e) {
          e.preventDefault();
          const text = document.getElementById('opinion-text').value.trim();
          if (text) {
            // Example: send opinion to backend with CSRF protection
            // await sendProtectedRequest('/api/opinions', 'POST', { opinion: text });
            const div = document.createElement('div');
            div.className = 'opinion-item';
            div.textContent = text;
            document.getElementById('opinions-list').prepend(div);
            document.getElementById('opinion-text').value = '';
          }
        });
      }

    // Language Switcher Logic
    const languageBtn = document.getElementById('language-btn');
    const languageDropdown = document.getElementById('language-dropdown');
    const currentLangSpan = document.getElementById('current-lang');
    
    if (languageBtn && languageDropdown) {
      // Toggle dropdown
      languageBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        languageDropdown.classList.toggle('active');
        languageBtn.classList.toggle('active');
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', function(e) {
        if (!languageBtn.contains(e.target) && !languageDropdown.contains(e.target)) {
          languageDropdown.classList.remove('active');
          languageBtn.classList.remove('active');
        }
      });
      
      // Handle language selection
      const langOptions = document.querySelectorAll('.lang-option');
      langOptions.forEach(option => {
        option.addEventListener('click', function(e) {
          e.preventDefault();
          
          // Remove active class from all options
          langOptions.forEach(opt => opt.classList.remove('active'));
          // Add active class to selected option
          this.classList.add('active');
          
          // Update current language display
          const selectedLang = this.getAttribute('data-lang').toUpperCase();
          currentLangSpan.textContent = selectedLang;
          
          // Close dropdown
          languageDropdown.classList.remove('active');
          languageBtn.classList.remove('active');
          
          // Here you can add actual language switching logic
          // For example: loadLanguage(this.getAttribute('data-lang'));
          console.log('Language switched to:', this.getAttribute('data-lang'));
        });
      });
    }

    // Customer Service form logic
      const csForm = document.getElementById('customer-service-form');
      if (csForm) {
        csForm.addEventListener('submit', async function(e) {
          e.preventDefault();
          // Example: send customer service message to backend with CSRF protection
          // await sendProtectedRequest('/api/customer-service', 'POST', {
          //   name: csForm['cs-name'].value,
          //   email: csForm['cs-email'].value,
          //   message: csForm['cs-message'].value
          // });
          document.getElementById('customer-service-status').textContent =
            'Your message has been sent. Our team will contact you soon!';
          csForm.reset();
        });
      }
    });
  </script>
  
  <!-- GDPR Cookie Consent System -->
  <script src="js/cookie-consent.js"></script>
  
  <!-- Consent Manager (Third-party Cookie Consent) -->
  <script type="text/javascript" data-cmp-ab="1" src="https://cdn.consentmanager.net/delivery/autoblocking/02bebe9642911.js" data-cmp-host="b.delivery.consentmanager.net" data-cmp-cdn="cdn.consentmanager.net" data-cmp-codesrc="16"></script>
  
  <!-- Consent Manager Bridge (Integrates with our analytics) -->
  <script src="js/consent-manager-bridge.js"></script>
  
  <!-- Microsoft Clarity GDPR Integration (Hybrid Version) -->
  <script src="js/clarity-config-hybrid.js"></script>
  
  <!-- Google Analytics 4 GDPR Integration -->
  <script src="js/google-analytics-config.js"></script>
  
  <!-- Analytics Verification Script (for testing) -->
  <script src="js/analytics-verification.js"></script>
  
  <script>
    // Initialize analytics systems with Consent Manager integration
    document.addEventListener('DOMContentLoaded', function() {
      // Note: Consent Manager Bridge handles consent, no need for custom CookieConsent
      console.log('🔗 Consent Manager integration active');
      
      // Test event tracking (only works if user consents via Consent Manager)
      setTimeout(() => {
        // Test Microsoft Clarity tracking
        if (window.clarityGDPRManagerHybrid && window.clarityGDPRManagerHybrid.getConsentStatus()) {
          window.clarityGDPRManagerHybrid.trackEvent('page_loaded_with_cm', {
            page: 'index',
            consent_source: 'consent_manager',
            timestamp: new Date().toISOString()
          });
        }
        
        // Test Google Analytics tracking
        if (window.GoogleAnalyticsManager && window.GoogleAnalyticsManager.isTrackingActive()) {
          window.GoogleAnalyticsManager.trackEvent('page_loaded_with_cm', {
            event_category: 'page_interaction',
            event_label: 'index_page_consent_manager',
            consent_source: 'consent_manager',
            page: 'index'
          });
        }
        
        // Log consent manager status
        if (window.ConsentManagerBridge) {
          console.log('📊 Consent Manager Bridge Status:');
          console.log('- Analytics enabled:', window.ConsentManagerBridge.isAnalyticsEnabled());
          console.log('- Marketing enabled:', window.ConsentManagerBridge.isMarketingEnabled());
        }
      }, 3000); // Wait longer for Consent Manager to fully initialize
      
      console.log('GDPR-compliant tracking systems with Consent Manager initialized');
      console.log('Clarity implementation:', window.clarityGDPRManagerHybrid?.getImplementationType());
      console.log('Google Analytics active:', window.GoogleAnalyticsManager?.isTrackingActive());
      console.log('Consent Manager bridge active:', !!window.ConsentManagerBridge);
    });
  </script>
  
  <!-- SichrPlace Analytics & Error Tracking -->
  <script src="../js/analytics/sichrplace-analytics.js"></script>
  
  <!-- PWA Initialization -->
  <script src="js/pwa-init.js"></script>
</body>
</html>